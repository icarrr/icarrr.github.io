<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/WebPage">
  <head>
  <title>Fix the Cockpit Blank Page After Login Over Nginx Reverse Proxy</title>
  
  <meta http-equiv="cache-control" content="public, max-age=31536000" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Faizar Septiawan">
  <meta name="description" content="Read - Search - Ask | Personal Site | Catch your problem solution or read interesting stories on my blog!">
  <meta name="keywords" content="Linux, Unix, BSD, MacOS, Komunitas Pengguna Linux Indonesia, KPLI Klaten, KPLI Bulukumba, MikroTik, MikroTik Indonesia, FreeBSD, FreeBSD Indonesia, Cisco, Cisco Indonesia, BLC Telkom Klaten, Ansible, Nginx, Apache2, Caddy Server, Ayo Belajar Linux, Cloud Computing, e-Learning, Open edX, Proxmox, Sendy, Microsoft SQL Server, MySQL, PostgreSQL, Lets Encrypt, Case Study, Atlassian, Virtualization, Faizar Septiawan, Icar, siBunglonGanteng, siBunglonLabs, Orang Ganteng">
  
  
  
  <meta name="google-site-verification" content="SYE8MCa03gDSATy55M-WppXlauxSYqxjOE9Tg7vEJpM" />
  
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110194945-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-110194945-3');
  </script>
  

  
  
  
  
  
  <link rel="stylesheet" href="/assets/css/external.min.css" media="screen">
  
  
  <link rel="stylesheet" href="/assets/css/styles.css" media="screen">
  <link href="/assets/custom/googlefonts/roboto.css" rel="stylesheet">
  

  
  
  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/src/images/apple-touch-icon.png">
  <link rel="shortcut icon" href="/src/images/favicon.ico">
  

  
  <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="The Official Site of siBunglon" />

  <meta property="og:title" content="Fix the Cockpit Blank Page After Login Over Nginx Reverse Proxy" />
<meta property="og:description" content="Cockpit nge-Blank Setelah Login Jika diakses melalui Reverse Proxy Nginx? Apakah anda mengalami hal tersebut? Jangan takut, karena saya juga mengalami hal tersebut ðŸ˜† Beberapa yang hari lalu, saya mengakses cockpit server lab saya yang melalui reverse proxy NGINX, awalnya normal aja pas ngakses sampai ke halaman login namun ketika mencoba login, si cockpit hanya stuck di blank page. Wahhhh alhamdulillah dapat masalah baru lagi :D padahal sebelumnya normal aja, gak ada stuck di blank page." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sibunglon.com/2019/04/15/fix-the-cockpit-blank-page-after-login-over-nginx-reverse-proxy/" />
<meta property="og:image" content="https://sibunglon.com/assets/img/profil.webp"/>
<meta property="article:published_time" content="2019-04-15T05:09:24+07:00" />
<meta property="article:modified_time" content="2019-04-15T05:09:24+07:00" /><meta property="og:site_name" content="The Official Site of siBunglon" />

  <meta itemprop="name" content="Fix the Cockpit Blank Page After Login Over Nginx Reverse Proxy">
<meta itemprop="description" content="Cockpit nge-Blank Setelah Login Jika diakses melalui Reverse Proxy Nginx? Apakah anda mengalami hal tersebut? Jangan takut, karena saya juga mengalami hal tersebut ðŸ˜† Beberapa yang hari lalu, saya mengakses cockpit server lab saya yang melalui reverse proxy NGINX, awalnya normal aja pas ngakses sampai ke halaman login namun ketika mencoba login, si cockpit hanya stuck di blank page. Wahhhh alhamdulillah dapat masalah baru lagi :D padahal sebelumnya normal aja, gak ada stuck di blank page.">
<meta itemprop="datePublished" content="2019-04-15T05:09:24+07:00" />
<meta itemprop="dateModified" content="2019-04-15T05:09:24+07:00" />
<meta itemprop="wordCount" content="279">
<meta itemprop="image" content="https://sibunglon.com/assets/img/profil.webp"/>



<meta itemprop="keywords" content="Ayo Belajar Linux,Cockpit,Error," />

  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://sibunglon.com/assets/img/profil.webp"/>

<meta name="twitter:title" content="Fix the Cockpit Blank Page After Login Over Nginx Reverse Proxy"/>
<meta name="twitter:description" content="Cockpit nge-Blank Setelah Login Jika diakses melalui Reverse Proxy Nginx? Apakah anda mengalami hal tersebut? Jangan takut, karena saya juga mengalami hal tersebut ðŸ˜† Beberapa yang hari lalu, saya mengakses cockpit server lab saya yang melalui reverse proxy NGINX, awalnya normal aja pas ngakses sampai ke halaman login namun ketika mencoba login, si cockpit hanya stuck di blank page. Wahhhh alhamdulillah dapat masalah baru lagi :D padahal sebelumnya normal aja, gak ada stuck di blank page."/>

  

  
  <script defer src="/assets/custom/fontawesome-5.15.1/js/all.min.js"></script>
  
</head>

  <body>
    
      <nav>
  <a href="/">
    siBunglon
  </a>
</nav>

    
    <main class="container">
      
  <article>
    <header>
      <small>
        <span class="date">April 15, 2019</span></small>
      <h1>Fix the Cockpit Blank Page After Login Over Nginx Reverse Proxy</h1>
    </header>
    <section><h3 id="cockpit-nge-blank-setelah-login-jika-diakses-melalui-reverse-proxy-nginx">Cockpit nge-Blank Setelah Login Jika diakses melalui Reverse Proxy Nginx?</h3>
<p>Apakah anda mengalami hal tersebut? Jangan takut, karena saya juga mengalami hal tersebut ðŸ˜†  Beberapa yang hari lalu, saya mengakses cockpit server lab saya yang melalui reverse proxy NGINX, awalnya normal aja pas ngakses sampai ke halaman login namun ketika mencoba login, si cockpit hanya stuck di blank page. Wahhhh alhamdulillah dapat masalah baru lagi :D padahal sebelumnya normal aja, gak ada stuck di blank page. Selang beberapa menit setelah nyelam di website resmi cockpit, masalah tersebut terselesaikan dengan beberapa config tambahan berikut ini:</p>
<p>1) Buat sebuah file konfigurasi cockpit di direktori cockpit menggunakan command <code>vi /etc/cockpit/cockpit.conf</code> kemudian tambahkan script berikut:</p>
<pre><code>[WebService]
AllowUnencrypted=true
</code></pre><p>2) Update konfigurasi reverse proxy seperti berikut:</p>
<pre><code>map $http_upgrade $connection_upgrade {
default upgrade;
'' close;
}

upstream websocket {
server 10.10.1.1:9090;
}


server {
    server_name cockpit.sibunglon.com;

    location / {
        proxy_pass http://websocket;
        proxy_http_version 1.1;
        proxy_buffering off;
        proxy_set_header X-Real-IP  $remote_addr;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $remote_addr;
        # needed for websocket
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection $connection_upgrade;
        # change scheme of &quot;Origin&quot; to http
        proxy_set_header Origin http://$host;

        # Pass ETag header from cockpit to clients.
        # See: https://github.com/cockpit-project/cockpit/issues/5239
        gzip off;
    }

}
</code></pre><p>Catatan:</p>
<ul>
<li>Untuk <em><strong>cockpit.sibunglon.com</strong></em> silahkan diganti sesuai domain kalian.</li>
<li>Untuk ip server <em><strong>10.10.1.1</strong></em> silahkan diganti sesuai ip server kalian, jika nginx dan cockpit berada pada 1 server silahkan ganti ip <em><strong>10.10.1.1</strong></em> ke <em><strong>localhost</strong></em>.</li>
</ul>
<p>3) Verifikasi konfigurasi nginx menggunakan command <code>sudo nginx -t</code>, pastikan tidak ada yang error.</p>
<p>4) Jika tidak ditemukan error pada verifikasi konfigurasi, silahkan restart nginx kalian menggunakan command <code>sudo systemctl restart nginx</code>. Namun jika ada error, periksa kembali konfigurasi yang kalian masukkan.</p>
<p>Sampai tahap ini, cockpit sudah tidak blank page lagi setelah melewati proses login.</p>
</section>
    <footer>
      <hr>
      <div class="meta">
        <p class="tags">
          
            
              <a href="/tags/ayo-belajar-linux">
                <span>#</span>Ayo Belajar Linux</a>
            
              <a href="/tags/cockpit">
                <span>#</span>Cockpit</a>
            
              <a href="/tags/error">
                <span>#</span>Error</a>
            
          
        </p>
      </div>
      <hr>
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sibunglonlabs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>
  </article>

    </main>
    
      <footer>
  <p>
    &copy; 2021 Faizar Septiawan. <a href="http://creativecommons.org/licenses/by-sa/4.0/">Some Rights Reserved</a>.
  </p>
  <p>
    Powered by <a href="https://gohugo.io" title="A Fast and Flexible Website Generator">Hugo</a> &amp; <a href="https://github.com/eshlox/simplicity" title="Hugo theme">Simplicity</a>.
  </p>
</footer>

    
    
    
    
    
    
    
    <script src="/assets/js/scripts.min.js"></script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-110194945-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </body>
</html>
