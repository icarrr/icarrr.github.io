<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/WebPage">
  <head>
  <title>Discussion Forum Open edX Not Visible for Single User</title>
  
  <meta http-equiv="cache-control" content="public, max-age=31536000" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Faizar Septiawan">
  <meta name="description" content="Catch your problem solution or read interesting stories on my blog! | Palugada paling ganteng di Makassar | #Cyclist Enthusiast | Palugada paling gila di Makassar | Read - Search - Ask | Sekali Gila Tetap Gila">
  <meta name="keywords" content="Activities, Android Developer, Ansible, Apache2, Atlassian, Ayo Belajar Linux, Bestpath Network, BLC Telkom Klaten, BSD, Caddy Server, Case Study, Cisco, Cisco Indonesia, Cloud Computing, Cockpit, Custom Weapons, Docker, E-Learning, Engenius, Error, FreeBSD, FreeBSD Indonesia, Komunitas Pengguna Linux Indonesia, KPLI Bulukumba, KPLI Klaten, Lets Encrypt, Linux, MacOS, Microsoft Azure, Microsoft SQL Server, MikroTik, MikroTik Indonesia, MySQL, Nginx, Open edX, OpenSID, Others, PHP, phpMyAdmin, PostgreSQL, Proxmox, Python, Redash, Sendy, SSH, Stories, Subnetting, TP-Link, Ubiquiti, Unix, Virtualization, Windows, X-Mosque, Faizar Septiawan, Icar, siBunglonGanteng, Orang Ganteng, siBunglonLabs, Programmer, SysAdmin, Site Reliability Engineer, Developer, Palugada, Makassar, Ganteng, Gila, Cyclist">

  <!-- Open Graph data -->
  <meta property="og:title" content="Discussion Forum Open edX Not Visible for Single User" />
<meta property="og:description" content="A few days ago, a students using our system reported that he couldn&rsquo;t see the discussion forum on the course. But another student, discus forums can be seen.
When i check the LMS log, i found this:
Jun 21 18:15:01 velvet [service_variant=lms][edx.courseware][env:sandbox] ERROR [velvet 8339] [views.py:592] - Error in /courses/course-v1:STEL&#43;Beginner&#43;2020_Run1/discussion/forum/: user=chyntia, effective_user=chyntia, course=course-v1:STEL&#43;Beginner&#43;2020_Run1 Traceback (most recent call last): File &#34;/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/views/views.py&#34;, line 521, in get return super(CourseTabView, self).get(request, course=course, page_context=page_context, **kwargs) File &#34;/edx/app/edxapp/venvs/edxapp/local/lib/python2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sibunglon.com/2021/06/23/discussion-forum-open-edx-not-visible-for-single-user/" /><meta property="og:image" content="https://sibunglon.com/assets/img/profil-cycling-4.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-06-23T21:55:50+08:00" />
<meta property="article:modified_time" content="2021-06-23T21:55:50+08:00" /><meta property="og:site_name" content="The Official Site of siBunglon" />



  <!-- schema data -->
  <meta itemprop="name" content="Discussion Forum Open edX Not Visible for Single User">
<meta itemprop="description" content="A few days ago, a students using our system reported that he couldn&rsquo;t see the discussion forum on the course. But another student, discus forums can be seen.
When i check the LMS log, i found this:
Jun 21 18:15:01 velvet [service_variant=lms][edx.courseware][env:sandbox] ERROR [velvet 8339] [views.py:592] - Error in /courses/course-v1:STEL&#43;Beginner&#43;2020_Run1/discussion/forum/: user=chyntia, effective_user=chyntia, course=course-v1:STEL&#43;Beginner&#43;2020_Run1 Traceback (most recent call last): File &#34;/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/views/views.py&#34;, line 521, in get return super(CourseTabView, self).get(request, course=course, page_context=page_context, **kwargs) File &#34;/edx/app/edxapp/venvs/edxapp/local/lib/python2."><meta itemprop="datePublished" content="2021-06-23T21:55:50+08:00" />
<meta itemprop="dateModified" content="2021-06-23T21:55:50+08:00" />
<meta itemprop="wordCount" content="259"><meta itemprop="image" content="https://sibunglon.com/assets/img/profil-cycling-4.jpg" />
<meta itemprop="keywords" content="Open edX,Error," />

  <!-- Twitter cards data -->
  <meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://sibunglon.com/assets/img/profil-cycling-4.jpg" /><meta name="twitter:title" content="Discussion Forum Open edX Not Visible for Single User"/>
<meta name="twitter:description" content="A few days ago, a students using our system reported that he couldn&rsquo;t see the discussion forum on the course. But another student, discus forums can be seen.
When i check the LMS log, i found this:
Jun 21 18:15:01 velvet [service_variant=lms][edx.courseware][env:sandbox] ERROR [velvet 8339] [views.py:592] - Error in /courses/course-v1:STEL&#43;Beginner&#43;2020_Run1/discussion/forum/: user=chyntia, effective_user=chyntia, course=course-v1:STEL&#43;Beginner&#43;2020_Run1 Traceback (most recent call last): File &#34;/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/views/views.py&#34;, line 521, in get return super(CourseTabView, self).get(request, course=course, page_context=page_context, **kwargs) File &#34;/edx/app/edxapp/venvs/edxapp/local/lib/python2."/>

  

  
  <meta name="google-site-verification" content="SYE8MCa03gDSATy55M-WppXlauxSYqxjOE9Tg7vEJpM" />
  
  
  
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-L0K35LHNTF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-L0K35LHNTF');
  </script>
  
  

  
  
  
  
  
  <link rel="stylesheet" href="/assets/css/external.min.css" media="screen">
  
  
  <link rel="stylesheet" href="/assets/css/styles.css" media="screen">
  <link src="/assets/custom/googlefonts/roboto.css" rel="stylesheet">
  

  
  
  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/src/images/apple-touch-icon.png">
  <link rel="shortcut icon" href="/src/images/favicon.ico">
  

  
  <!-- RSS -->
  <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="Faizar Septiawan - Palugada paling ganteng di Makassar" />
  

  
  
  <script defer src="/assets/custom/fontawesome-5.15.1/js/all.min.js"></script>
  
  
</head>

  <body>
    
      <nav>
  <a href="/">
    siBunglon
  </a>
  <a href="/posts">
    Posts
  </a>
</nav>

    
    <main class="container">
      
  <article>
    <header>
      <small>
        <span class="date">June 23, 2021</span></small>
      <h1>Discussion Forum Open edX Not Visible for Single User</h1>
    </header>
    <section><p><img src="/assets/img/Open-edX/open-edx-new.png" alt="Activities, Android Developer, Ansible, Apache2, Atlassian, Ayo Belajar Linux, Bestpath Network, BLC Telkom Klaten, BSD, Caddy Server, Case Study, Cisco, Cisco Indonesia, Cloud Computing, Cockpit, Custom Weapons, Docker, E-Learning, Engenius, Error, FreeBSD, FreeBSD Indonesia, Komunitas Pengguna Linux Indonesia, KPLI Bulukumba, KPLI Klaten, Lets Encrypt, Linux, MacOS, Microsoft Azure, Microsoft SQL Server, MikroTik, MikroTik Indonesia, MySQL, Nginx, Open edX, OpenSID, Others, PHP, phpMyAdmin, PostgreSQL, Proxmox, Python, Redash, Sendy, SSH, Stories, Subnetting, TP-Link, Ubiquiti, Unix, Virtualization, Windows, X-Mosque, Faizar Septiawan, Icar, siBunglonGanteng, Orang Ganteng, siBunglonLabs, Programmer, SysAdmin, Site Reliability Engineer, Developer, Palugada, Makassar, Ganteng, Gila, Cyclist"></p>
<p>A few days ago, a students using our system reported that he couldn&rsquo;t see the discussion forum on the course. But another student, discus forums can be seen.</p>
<p>When i check the LMS log, i found this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Jun  21 18:15:01 velvet [service_variant=lms][edx.courseware][env:sandbox] ERROR [velvet  8339] [views.py:592] - Error in /courses/course-v1:STEL+Beginner+2020_Run1/discussion/forum/: user=chyntia, effective_user=chyntia, course=course-v1:STEL+Beginner+2020_Run1
</span></span><span class="line"><span class="cl">Traceback (most recent call last):
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/views/views.py&#34;, line 521, in get
</span></span><span class="line"><span class="cl">    return super(CourseTabView, self).get(request, course=course, page_context=page_context, **kwargs)
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/venvs/edxapp/local/lib/python2.7/site-packages/web_fragments/views.py&#34;, line 26, in get
</span></span><span class="line"><span class="cl">    fragment = self.render_to_fragment(request, **kwargs)
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/views/views.py&#34;, line 656, in render_to_fragment
</span></span><span class="line"><span class="cl">    return tab.render_to_fragment(request, course, **kwargs)
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/common/lib/xmodule/xmodule/tabs.py&#34;, line 294, in render_to_fragment
</span></span><span class="line"><span class="cl">    return self.fragment_view.render_to_fragment(request, course_id=unicode(course.id), **kwargs)
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/djangoapps/discussion/views.py&#34;, line 704, in render_to_fragment
</span></span><span class="line"><span class="cl">    base_context = _create_base_discussion_view_context(request, course_key)
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/djangoapps/discussion/views.py&#34;, line 405, in _create_base_discussion_view_context
</span></span><span class="line"><span class="cl">    user_info = cc_user.to_dict()
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/lib/comment_client/models.py&#34;, line 59, in to_dict
</span></span><span class="line"><span class="cl">    self.retrieve()
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/lib/comment_client/models.py&#34;, line 64, in retrieve
</span></span><span class="line"><span class="cl">    self._retrieve(*args, **kwargs)
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/lib/comment_client/user.py&#34;, line 158, in _retrieve
</span></span><span class="line"><span class="cl">    self.save()
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/lib/comment_client/models.py&#34;, line 141, in save
</span></span><span class="line"><span class="cl">    metric_action=&#39;model.update&#39;
</span></span><span class="line"><span class="cl">  File &#34;/edx/app/edxapp/edx-platform/lms/lib/comment_client/utils.py&#34;, line 80, in perform_request
</span></span><span class="line"><span class="cl">    raise CommentClientRequestError(response.text, response.status_code)
</span></span><span class="line"><span class="cl">CommentClientRequestError: [&#34;Username is already taken&#34;]
</span></span></code></pre></div><p>On google groups, someone also had this problem after deleting user on MySQL and then add a new user using the same username. The previous username has been registered in the forum database, because the student&rsquo;s unique id is not same, when the new user opens the discussion forum, the forum service returns an error message &ldquo;<strong>Username is already taken</strong>&rdquo;</p>
<h3 id="how-to-fix-it">How to fix it?</h3>
<p>Delete the user&rsquo;s username in the mongoDB.</p>
<pre tabindex="0"><code class="language-mongo" data-lang="mongo">$ mongo
&gt;&gt; use cs_comments_service
&gt;&gt; db.users.find()
&gt;&gt; db.users.remove({username: &#34;chyntia&#34;})
</code></pre><p>After you delete it, users should be able to see the discussion forum.</p>
<p><strong>Reference</strong></p>
<p><a href="https://groups.google.com/g/openedx-ops/c/Sx6M7dWJCMw">Google Groups</a></p>
</section>
    <footer>
      <hr>
      <div class="meta">
        <p class="tags">
          
            
              <a href="/tags/open-edx">
                <span>#</span>Open edX</a>
            
              <a href="/tags/error">
                <span>#</span>Error</a>
            
          
        </p>
      </div>
      <hr>
      <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sibunglonlabs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>
  </article>

    </main>
    
      <footer>
  <p>
    &copy; 2023 Faizar Septiawan. <a href="http://creativecommons.org/licenses/by-sa/4.0/">Some Rights Reserved</a>.
  </p>
  <p>
    Powered by <a href="https://gohugo.io" title="A Fast and Flexible Website Generator">Hugo</a> &amp; <a href="https://github.com/eshlox/simplicity" title="Hugo theme">Simplicity</a>.
  </p>
</footer>

    
    
    
    
    
    
    
    <script src="/assets/js/scripts.min.js"></script>
    
      
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-L0K35LHNTF', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
  </body>
</html>
