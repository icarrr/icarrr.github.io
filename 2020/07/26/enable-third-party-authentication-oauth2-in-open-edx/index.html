<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/WebPage">
  <head>
  <title>Enable Third-Party Authentication (OAuth2) in Open edX</title>
  
  <meta http-equiv="cache-control" content="public, max-age=31536000" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Faizar Septiawan">
  <meta name="description" content="Read - Search - Ask | Personal Site | Catch your problem solution or read interesting stories on my blog!">
  <meta name="keywords" content="Activities, Android Developer, Ansible, Apache2, Atlassian, Ayo Belajar Linux, Bestpath Network, BLC Telkom Klaten, BSD, Caddy Server, Case Study, Cisco, Cisco Indonesia, Cloud Computing, Cockpit, Custom Weapons, Docker, E-Learning, Engenius, Error, FreeBSD, FreeBSD Indonesia, Komunitas Pengguna Linux Indonesia, KPLI Bulukumba, KPLI Klaten, Lets Encrypt, Linux, MacOS, Microsoft Azure, Microsoft SQL Server, MikroTik, MikroTik Indonesia, MySQL, Nginx, Open edX, OpenSID, Others, PHP, phpMyAdmin, PostgreSQL, Proxmox, Python, Redash, Sendy, SSH, Stories, Subnetting, TP-Link, Ubiquiti, Unix, Virtualization, Windows, X-Mosque, Faizar Septiawan, Icar, siBunglonGanteng, Orang Ganteng, siBunglonLabs">
  
  
  
  <meta name="google-site-verification" content="SYE8MCa03gDSATy55M-WppXlauxSYqxjOE9Tg7vEJpM" />
  
  
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110194945-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-110194945-3');
  </script>
  
  

  
  
  
  
  
  <link rel="stylesheet" href="/assets/css/external.min.css" media="screen">
  
  
  <link rel="stylesheet" href="/assets/css/styles.css" media="screen">
  <link src="/assets/custom/googlefonts/roboto.css" rel="stylesheet">
  

  
  
  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/src/images/apple-touch-icon.png">
  <link rel="shortcut icon" href="/src/images/favicon.ico">
  

  
  <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="The Official Site of siBunglon" />

  <meta property="og:title" content="Enable Third-Party Authentication (OAuth2) in Open edX" />
<meta property="og:description" content="Open edX Platform allows you to integrate third-party authentication with two kinds of authentication providers:
OAuth2 Identity Providers. SAML Identity Providers This section describes how to integrate Open edX with two of the most popular OAuth2 providers: Google and Facebook.
Integrate Open edX With Google Step 1: Register The Open edX Site With Google Navigate to the Google Developers Console. Select an existing project or create a new one. Search and select the “Google&#43; API” in the Google APIs list and press the “Enable API” button." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sibunglon.com/2020/07/26/enable-third-party-authentication-oauth2-in-open-edx/" /><meta property="og:image" content="https://sibunglon.com/assets/img/profil.webp"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-26T17:39:23+08:00" />
<meta property="article:modified_time" content="2020-07-26T17:39:23+08:00" /><meta property="og:site_name" content="The Official Site of siBunglon" />


  <meta itemprop="name" content="Enable Third-Party Authentication (OAuth2) in Open edX">
<meta itemprop="description" content="Open edX Platform allows you to integrate third-party authentication with two kinds of authentication providers:
OAuth2 Identity Providers. SAML Identity Providers This section describes how to integrate Open edX with two of the most popular OAuth2 providers: Google and Facebook.
Integrate Open edX With Google Step 1: Register The Open edX Site With Google Navigate to the Google Developers Console. Select an existing project or create a new one. Search and select the “Google&#43; API” in the Google APIs list and press the “Enable API” button."><meta itemprop="datePublished" content="2020-07-26T17:39:23+08:00" />
<meta itemprop="dateModified" content="2020-07-26T17:39:23+08:00" />
<meta itemprop="wordCount" content="726"><meta itemprop="image" content="https://sibunglon.com/assets/img/profil.webp"/>
<meta itemprop="keywords" content="Open edX," />
  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://sibunglon.com/assets/img/profil.webp"/>

<meta name="twitter:title" content="Enable Third-Party Authentication (OAuth2) in Open edX"/>
<meta name="twitter:description" content="Open edX Platform allows you to integrate third-party authentication with two kinds of authentication providers:
OAuth2 Identity Providers. SAML Identity Providers This section describes how to integrate Open edX with two of the most popular OAuth2 providers: Google and Facebook.
Integrate Open edX With Google Step 1: Register The Open edX Site With Google Navigate to the Google Developers Console. Select an existing project or create a new one. Search and select the “Google&#43; API” in the Google APIs list and press the “Enable API” button."/>

  

  
  
  <script defer src="/assets/custom/fontawesome-5.15.1/js/all.min.js"></script>
  
  
</head>

  <body>
    
      <nav>
  <a href="/">
    siBunglon
  </a>
  <a href="/posts">
    Posts
  </a>
</nav>

    
    <main class="container">
      
  <article>
    <header>
      <small>
        <span class="date">July 26, 2020</span></small>
      <h1>Enable Third-Party Authentication (OAuth2) in Open edX</h1>
    </header>
    <section><p><img src="/assets/img/Open-edX/open-edx-new.png" alt="Activities, Android Developer, Ansible, Apache2, Atlassian, Ayo Belajar Linux, Bestpath Network, BLC Telkom Klaten, BSD, Caddy Server, Case Study, Cisco, Cisco Indonesia, Cloud Computing, Cockpit, Custom Weapons, Docker, E-Learning, Engenius, Error, FreeBSD, FreeBSD Indonesia, Komunitas Pengguna Linux Indonesia, KPLI Bulukumba, KPLI Klaten, Lets Encrypt, Linux, MacOS, Microsoft Azure, Microsoft SQL Server, MikroTik, MikroTik Indonesia, MySQL, Nginx, Open edX, OpenSID, Others, PHP, phpMyAdmin, PostgreSQL, Proxmox, Python, Redash, Sendy, SSH, Stories, Subnetting, TP-Link, Ubiquiti, Unix, Virtualization, Windows, X-Mosque, Faizar Septiawan, Icar, siBunglonGanteng, Orang Ganteng, siBunglonLabs"></p>
<p>Open edX Platform allows you to integrate third-party authentication with two kinds of authentication providers:</p>
<ul>
<li><a href="http://edx.readthedocs.io/projects/edx-installing-configuring-and-running/en/latest/configuration/tpa/tpa_integrate_open/tpa_oauth.html">OAuth2 Identity Providers</a>.</li>
<li><a href="http://edx.readthedocs.io/projects/edx-installing-configuring-and-running/en/latest/configuration/tpa/tpa_integrate_open/tpa_SAML_IdP.html">SAML Identity Providers</a></li>
</ul>
<p>This section describes how to integrate Open edX with two of the most popular OAuth2 providers: Google and Facebook.</p>
<h3 id="integrate-open-edx-with-google">Integrate Open edX With Google</h3>
<h4 id="step-1-register-the-open-edx-site-with-google">Step 1: Register The Open edX Site With Google</h4>
<ol>
<li>Navigate to the <a href="https://console.developers.google.com/project/_/apiui/apis/library">Google Developers Console</a>.</li>
<li>Select an existing project or create a new one.</li>
<li>Search and select the “Google+ API” in the Google APIs list and press the “Enable API” button.</li>
<li>Under “API Manager” sidebar, select “Overview -&gt; Create Credentials”.</li>
<li>Select “OAuth consent screen”, for user type select “External” and click “Create”</li>
<li>Fill the “Application name” field with the value your application name.</li>
<li>Select “Credentials -&gt; Create Credentials”, and then select “OAuth client ID”.</li>
<li>For Application type, select “Web application”, choose a “Name” for your client ID and leave the “Authorized JavaScript origins” field blank.</li>
<li>Fill the “Authorized redirect URI” field with the value <em>http://SERVER-IP/auth/complete/google-oauth2/</em>. SERVER-IP is a placeholder, please, replace it with the actual domain of your Open edX server.</li>
<li>Press the “Create” button and note down “Client ID” and the “Client secret”.</li>
</ol>
<h4 id="step-2-configure-open-edx">Step 2: Configure Open edX</h4>
<ol>
<li>Log in to the server console.</li>
<li>Navigate to the <code>/edx/app/edxapp/</code> directory if using Open edX native, if using Bitnami Open edX Navigate to the <code>/opt/bitnami/apps/edx/conf</code> directory.</li>
<li>Modify the <em>lms.env.json</em> file and set FEATURES <code>ENABLE_THIRD_PARTY_AUTH</code> and <code>ENABLE_COMBINED_LOGIN_REGISTRATION</code> to <code>True</code>.</li>
<li>Modify the <code>lms.auth.json</code> file and set <code>SOCIAL_AUTH_OAUTH_SECRETS</code> as described below:</li>
</ol>
<blockquote>
<p>NOTE: Remember to replace the CLIENT_SECRET placeholder in the example below with the <em>Client secret</em> you noted down previously.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;SOCIAL_AUTH_OAUTH_SECRETS&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;google-oauth2&#34;</span><span class="p">:</span> <span class="s2">&#34;CLIENT_SECRET&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ol start="5">
<li>Restart LMS.</li>
<li>Access the Django administration console.</li>
<li>Browse to “Third Party Auth -&gt; Provider Configuration (OAuth2)”.</li>
<li>Select “Add Provider Configuration (OAuth)”.</li>
<li>Mark “Enabled” and “Visible” checkbox.</li>
<li>Set “Icon Class” to “fa-google-plus”.</li>
<li>Set “Name” to “Google”.</li>
<li>Set “Backend Name” and “Provider slug” to “google-oauth2”.</li>
</ol>
<blockquote>
<p>IMPORTANT: Remember that both the “Name” and the “Backend Name” fields must match.</p>
</blockquote>
<ol start="13">
<li>Set “Client ID” to the “Client ID” you noted down previosuly and leave the “Client secret” field blank.</li>
<li>Click the “Save” button.</li>
</ol>
<h3 id="integrate-open-edx-with-facebook">Integrate Open edX With Facebook</h3>
<h4 id="step-1-register-the-open-edx-site-with-facebook">Step 1: Register The Open edX Site With Facebook</h4>
<ol>
<li>
<p>Sign in to Facebook, then go to the <a href="https://developers.facebook.com/apps/?action=create">Facebook for Developers page</a>.</p>
</li>
<li>
<p>Select “Add a New App -&gt; For Everything Else”.</p>
</li>
<li>
<p>Enter a name for the app and mail address, and then select “Create New Facebook App ID”.</p>
</li>
<li>
<p>Browse to “Settings -&gt; Basic”.</p>
</li>
<li>
<p>Note down the “App ID” and “App Secret”.</p>
</li>
<li>
<p>Set Display Name.</p>
</li>
<li>
<p>In the “App Domains” field, enter the actual domain of your Open edX server (for example, localhost).</p>
</li>
<li>
<p>Select “Add Platform”, and then select “Website”.</p>
</li>
<li>
<p>Fill the “Site URI” field with the value <em>http://SERVER-IP/</em>. SERVER-IP is a placeholder, please, replace it with the actual domain of your Open edX server.</p>
</li>
<li>
<p>Browse to “Products (+) -&gt; Facebook Login -&gt; Settings”, fill the “Valid OAuth Redirect URIs”field with the value http://SERVER-IP/auth/complete/facebook/. SERVER-IP is a placeholder, please, replace it with the actual domain of your Open edX server.</p>
</li>
<li>
<p>Click “Save Changes” button.</p>
</li>
</ol>
<h4 id="step-2-configure-open-edx-1">Step 2: Configure Open edX</h4>
<ol>
<li>Log in to the server console.</li>
<li>Navigate to the <code>/edx/app/edxapp/</code> directory if using Open edX native, if using Bitnami Open edX Navigate to the <code>/opt/bitnami/apps/edx/conf</code> directory.</li>
<li>Modify the <em>lms.env.json</em> file set FEATURES <code>ENABLE_THIRD_PARTY_AUTH</code> and <code>ENABLE_COMBINED_LOGIN_REGISTRATION</code> to <code>True</code>.</li>
<li>Modify the <code>lms.auth.json</code> file and set <code>SOCIAL_AUTH_OAUTH_SECRETS</code> as described below:</li>
</ol>
<blockquote>
<p>NOTE: Remember to replace the CLIENT_SECRET placeholder in the example below with the <em>Client secret</em> you noted down previously.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">    <span class="s2">&#34;SOCIAL_AUTH_OAUTH_SECRETS&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;facebook&#34;</span><span class="p">:</span> <span class="s2">&#34;CLIENT_SECRET&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><ol start="5">
<li>Restart LMS.</li>
<li>Access the Django administration console.</li>
<li>Browse to “Third Party Auth -&gt; Provider Configuration (OAuth2)”.</li>
<li>Select “Add Provider Configuration (OAuth)”.</li>
<li>Mark “Enabled” and “Visible” checkbox.</li>
<li>Set “Icon Class” to “fa-facebook”.</li>
<li>Set “Name” to “Facebook”.</li>
<li>Set “Backend Name” and “Provider slug” to “facebook”.</li>
</ol>
<blockquote>
<p>IMPORTANT: Remember that both the “Name” and the “Backend Name” fields must match.</p>
</blockquote>
<ol start="11">
<li>
<p>Set “Client ID” to the “Client ID” you noted down previously and leave the “Client secret” field blank.</p>
</li>
<li>
<p>Enter the following code into “Other settings”.</p>
</li>
</ol>
<pre tabindex="0"><code>{
    &#34;SCOPE&#34;: [&#34;email&#34;],
    &#34;PROFILE_EXTRA_PARAMS&#34;: {
        &#34;fields&#34;: &#34;id, name, email&#34;
    }
}    
</code></pre><ol start="13">
<li>Click the “Save” button.</li>
</ol>
<h3 id="notes">Notes</h3>
<p>When I enable this, I use Open edX version ironwood.master and <code>Google Sign In Error 403</code> because deprecated Google+ API. For fix this issue, need upgrade the package versions to <code>social-auth-app-django==3.1.0</code> and <code>social-auth-core==3.2.0</code> using command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo /edx/bin/pip.edxapp install social-auth-app-django<span class="o">==</span>3.1.0 social-auth-core<span class="o">==</span>3.2.0
</span></span></code></pre></div><h3 id="references">References</h3>
<ul>
<li><a href="https://docs.bitnami.com/google/apps/edx/administration/enable-third-party-auth/">Enable Third-Party Authentication</a></li>
<li><a href="https://medium.com/@adityaagrawal9960/social-authentication-open-edx-c9e431909202">Social Authentication — Open Edx</a></li>
<li><a href="https://discuss.openedx.org/t/google-sign-in-error-403-deprecated-google-api/965">Open edX discussions</a></li>
</ul>
</section>
    <footer>
      <hr>
      <div class="meta">
        <p class="tags">
          
            
              <a href="/tags/open-edx">
                <span>#</span>Open edX</a>
            
          
        </p>
      </div>
      <hr>
      <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sibunglonlabs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>
  </article>

    </main>
    
      <footer>
  <p>
    &copy; 2022 Faizar Septiawan. <a href="http://creativecommons.org/licenses/by-sa/4.0/">Some Rights Reserved</a>.
  </p>
  <p>
    Powered by <a href="https://gohugo.io" title="A Fast and Flexible Website Generator">Hugo</a> &amp; <a href="https://github.com/eshlox/simplicity" title="Hugo theme">Simplicity</a>.
  </p>
</footer>

    
    
    
    
    
    
    
    <script src="/assets/js/scripts.min.js"></script>
    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-110194945-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
  </body>
</html>
