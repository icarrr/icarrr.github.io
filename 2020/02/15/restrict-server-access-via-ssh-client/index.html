<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/WebPage">
  <head>
  <title>Restrict Server Access via SSH Client</title>
  
  <meta http-equiv="cache-control" content="public, max-age=31536000" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Faizar Septiawan">
  <meta name="description" content="Read - Search - Ask | Personal Site | Catch your problem solution or read interesting stories on my blog!">
  <meta name="keywords" content="Activities, Android Developer, Ansible, Apache2, Atlassian, Ayo Belajar Linux, Bestpath Network, BLC Telkom Klaten, BSD, Caddy Server, Case Study, Cisco, Cisco Indonesia, Cloud Computing, Cockpit, Custom Weapons, Docker, E-Learning, Engenius, Error, FreeBSD, FreeBSD Indonesia, Komunitas Pengguna Linux Indonesia, KPLI Bulukumba, KPLI Klaten, Let&#39;s Encrypt, Linux, MacOS, Microsoft Azure, Microsoft SQL Server, MikroTik, MikroTik Indonesia, MySQL, Nginx, Open edX, OpenSID, Others, PHP, phpMyAdmin, PostgreSQL, Proxmox, Python, Redash, Sendy, SSH, Stories, Subnetting, TP-Link, Ubiquiti, Unix, Virtualization, Windows, X-Mosque, Faizar Septiawan, Icar, siBunglonGanteng, Orang Ganteng, siBunglonLabs">
  
  
  
  <meta name="google-site-verification" content="SYE8MCa03gDSATy55M-WppXlauxSYqxjOE9Tg7vEJpM" />
  
  
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110194945-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-110194945-3');
  </script>
  
  

  
  
  
  
  
  <link rel="stylesheet" href="/assets/css/external.min.css" media="screen">
  
  
  <link rel="stylesheet" href="/assets/css/styles.css" media="screen">
  <link src="/assets/custom/googlefonts/roboto.css" rel="stylesheet">
  

  
  
  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/src/images/apple-touch-icon.png">
  <link rel="shortcut icon" href="/src/images/favicon.ico">
  

  
  <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="The Official Site of siBunglon" />

  <meta property="og:title" content="Restrict Server Access via SSH Client" />
<meta property="og:description" content="This article is related to Server Got Hacked, Crontab Has Been Modified.
Limit IP Address To limit ip address of incoming connections to server via ssh, it can be done by:
  Edit file /etc/hosts.allow.
  Then add the following script.
  sshd : ip_attacker : deny Save and exit.  Limit Users or Groups To limit users or groups of incoming connections to server via ssh, it can be done by:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sibunglon.com/2020/02/15/restrict-server-access-via-ssh-client/" /><meta property="og:image" content="https://sibunglon.com/assets/img/profil.webp"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-02-15T14:57:22+07:00" />
<meta property="article:modified_time" content="2020-02-15T14:57:22+07:00" /><meta property="og:site_name" content="The Official Site of siBunglon" />


  <meta itemprop="name" content="Restrict Server Access via SSH Client">
<meta itemprop="description" content="This article is related to Server Got Hacked, Crontab Has Been Modified.
Limit IP Address To limit ip address of incoming connections to server via ssh, it can be done by:
  Edit file /etc/hosts.allow.
  Then add the following script.
  sshd : ip_attacker : deny Save and exit.  Limit Users or Groups To limit users or groups of incoming connections to server via ssh, it can be done by:"><meta itemprop="datePublished" content="2020-02-15T14:57:22+07:00" />
<meta itemprop="dateModified" content="2020-02-15T14:57:22+07:00" />
<meta itemprop="wordCount" content="122"><meta itemprop="image" content="https://sibunglon.com/assets/img/profil.webp"/>
<meta itemprop="keywords" content="Ayo Belajar Linux,SSH," />
  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://sibunglon.com/assets/img/profil.webp"/>

<meta name="twitter:title" content="Restrict Server Access via SSH Client"/>
<meta name="twitter:description" content="This article is related to Server Got Hacked, Crontab Has Been Modified.
Limit IP Address To limit ip address of incoming connections to server via ssh, it can be done by:
  Edit file /etc/hosts.allow.
  Then add the following script.
  sshd : ip_attacker : deny Save and exit.  Limit Users or Groups To limit users or groups of incoming connections to server via ssh, it can be done by:"/>

  

  
  
  <script defer src="/assets/custom/fontawesome-5.15.1/js/all.min.js"></script>
  
  
</head>

  <body>
    
      <nav>
  <a href="/">
    siBunglon
  </a>
  <a href="/posts">
    Posts
  </a>
</nav>

    
    <main class="container">
      
  <article>
    <header>
      <small>
        <span class="date">February 15, 2020</span></small>
      <h1>Restrict Server Access via SSH Client</h1>
    </header>
    <section><p>This article is related to <a href="https://sibunglon.com/2020/02/15/server-got-hacked-crontab-has-been-modified/">Server Got Hacked, Crontab Has Been Modified</a>.</p>
<h3 id="limit-ip-address">Limit IP Address</h3>
<p>To limit ip address of incoming connections to server via ssh, it can be done by:</p>
<ol>
<li>
<p>Edit file <code>/etc/hosts.allow</code>.</p>
</li>
<li>
<p>Then add the following script.</p>
</li>
</ol>
<pre><code>sshd : ip_attacker : deny
</code></pre><ol start="3">
<li>Save and exit.</li>
</ol>
<h3 id="limit-users-or-groups">Limit Users or Groups</h3>
<p>To limit users or groups of incoming connections to server via ssh, it can be done by:</p>
<ol>
<li>
<p>Edit file <code>/etc/ssh/sshd_config</code>.</p>
</li>
<li>
<p>Then add the following script.</p>
</li>
</ol>
<p>To limit users:</p>
<pre><code>DenyUsers user_Attacker
</code></pre><p>To limit groups:</p>
<pre><code>DenyGroups groupUsers
</code></pre><ol start="3">
<li>Save and exit. And restart service sshd.</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ sudo systemctl restart sshd
</code></pre></div><p>Because the ip that has brute force to the server every minute does not change, so I need to limit the attacker&rsquo;s ip connection.</p>
</section>
    <footer>
      <hr>
      <div class="meta">
        <p class="tags">
          
            
              <a href="/tags/ayo-belajar-linux">
                <span>#</span>Ayo Belajar Linux</a>
            
              <a href="/tags/ssh">
                <span>#</span>SSH</a>
            
          
        </p>
      </div>
      <hr>
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sibunglonlabs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>
  </article>

    </main>
    
      <footer>
  <p>
    &copy; 2021 Faizar Septiawan. <a href="http://creativecommons.org/licenses/by-sa/4.0/">Some Rights Reserved</a>.
  </p>
  <p>
    Powered by <a href="https://gohugo.io" title="A Fast and Flexible Website Generator">Hugo</a> &amp; <a href="https://github.com/eshlox/simplicity" title="Hugo theme">Simplicity</a>.
  </p>
</footer>

    
    
    
    
    
    
    
    <script src="/assets/js/scripts.min.js"></script>
    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-110194945-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
  </body>
</html>
